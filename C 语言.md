# C 语言



## 常量

```c
#define NAME value		//常量的定义
const int MONTHS = 12;		//const用于限定一个变量为只读
```



## 格式化输出/输入

**转换说明及其打印的输出结果**

| 转换说明 |                             输出                             |
| :------: | :----------------------------------------------------------: |
|    %a    |           浮点数、十六进制数和 p 记书法（C99/C11）           |
|    %A    |           浮点数、十六进制数和 p 记数法（C99/C11）           |
|    %c    |                           单个字符                           |
|    %d    |                       有符号十进制整数                       |
|    %e    |                       浮点数，e 记数法                       |
|    %E    |                       浮点数，e 记数法                       |
|    %f    |                     浮点数，十进制记数法                     |
|    %g    | 根据值的不同，自动选择 %f 或 %e。%e 格式用于指数小于 -4 或者大于或等于精度时 |
|    %G    | 根据值的不同，自动选择 %f 或 %E。%E 格式用于指数小于 -4 或者大于或等于精度时 |
|    %i    |                 有符号十进制整数（与%d相同）                 |
|    %o    |                       无符号八进制整数                       |
|    %p    |                             指针                             |
|    %s    |                            字符串                            |
|    %u    |                       无符号十进制整数                       |
|    %x    |            无符号十六进制整数，使用十六进制数 0f             |
|    %X    |            无符号十六进制整数，使用十六进制数 0F             |
|    %%    |                        打印一个百分号                        |



## 作用域 & 存储期 & 链接



### 作用域

|       类别       |                 说明                  |
| :--------------: | :-----------------------------------: |
|    *块作用域*    | 用{}括起来的，从声明开始到 "}" 结束。 |
|   *函数作用域*   |  goto（标识符）的作用域为整个函数。   |
| *函数原型作用域* |  函数声明开始，函数声明结束而结束。   |
|   *文件作用域*   |          整个文件或者程序。           |



### 链接

| 链接类别 |            说明            |
| :------: | :------------------------: |
| *无链接* |     只在其作用域内可见     |
| *内链接* | 在声明到文件结束都是可见的 |
| *外链接* | 多个文件或者整个程序都可见 |



### 存储期

|     类别     |                             说明                             |
| :----------: | :----------------------------------------------------------: |
| *静态存储期* |                   在整个程序都是占有内存的                   |
| *线程存储期* |   _Thread_local,其声明后会给每个线程分配一个单独的私有备份   |
| *自动存储期* |               局部变量通常都自动为 auto 存储期               |
| *动态存储期* | 就是用 new 或者 malloc 分配的内存，如果不主动释放，在整个程序都占有内存 |



### 存储类型

- auto（自动变量）
- register（寄存器变量）
- static（静态局部变量）
- extern
- typedef



### 总结

| 存储类别       | 存储期 | 作用域 | 链接 | 声明方式                          |
| -------------- | ------ | ------ | ---- | --------------------------------- |
| *自动*         | 自动   | 块     | 无   | 块内                              |
| *寄存器*       | 自动   | 块     | 无   | 块内，使用关键字 **register**     |
| *静态外部链接* | 静态   | 文件   | 外部 | 所有函数外                        |
| *静态内部链接* | 静态   | 文件   | 内部 | 所有函数外，使用关键字 **static** |
| *静态无链接*   | 静态   | 块     | 无   | 块内，使用关键字 **static**       |

> register 声明后，并不一定会存到寄存器中，他只是一种请求。及时不存在寄存器中也不能对其取地址。同时可以存为register的类型可不多，因为有些类型太大了，寄存器存不下。

